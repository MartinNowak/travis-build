Once lib/shell.rb is available

+ port addon refactorings
+ port deploy refactoring
+ port directory_cache refactoring
+ look at shared modules jdk, jvm, rvm etc.
+ port rust

+ go over all spec changes since branching off, and port them
- port known hosts feature


Later

- revert all the diff cleaning commits to clean things up again
- add a fold around announce
